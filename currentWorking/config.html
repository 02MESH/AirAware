<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <link rel="stylesheet" href="./main.css">

    <!--Firebase scripts-->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <!--chart.js script-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!--bootstrap scripts-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid ">
            <a class="navbar-brand " href="#">
                <img src="" width="30" height="24" class="d-inline-block align-text-bottom">
                AirAware
            </a>
            <button id="toggleButton" class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" aria-current="" href="./airAware.html">Room Conditions</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./telemetry.html">Telemetry</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./config.html">Edit Thresholds</a>
                </li>
            </ul>
        </div>
    </nav>
    
    <div>
        <div id="Temperature"></div>
        <div id="Humidity"></div>
    </div>
    
    <div class="data">
        <form id="thresholdForm" method="POST">
            <div class="form-control">
                <label for="temperature">Max Temperature (°C):</label>
                <input type="number" name="temperatureMin" id="temperatureMin">
                <label for="temperatureMax">Max Temperature (°C):</label>
                <input type="number" name="temperatureMax" id="temperatureMax">
            </div>
            <div class="form-control">
                <label for="humidityMin">Min Humidity (%):</label>
                <input type="number" name="humidityMin" id="humidityMin">
                <label for="humidityMax">Max Humidity (%):</label>
                <input type="number" name="humidityMax" id="humidityMax">
            </div>
            <div class="form-control">
                <label for="number">Phone Number (+44):</label>
                <input type="number" name="number" id="number">
            </div>
            <button type="submit">Submit</button>
        </form>
    </div>
    
    <script src="../util/main.js"></script>
    <script>
        var form = document.getElementById("thresholdForm");
        form.addEventListener('submit', function (e) {
            e.preventDefault();
            
            var temperatureMin = parseInt(document.getElementById('temperatureMin').value, 10);
            var temperatureMax = parseInt(document.getElementById('temperatureMax').value, 10);
            var humidityMin = parseInt(document.getElementById('humidityMin').value, 10);
            var humidityMax = parseInt(document.getElementById('humidityMax').value, 10);
            
            var phoneNumber = document.getElementById('number').value;
            
            db.ref('Thresholds').set({
                Min_Temperature: temperatureMin,
                Max_Temperature: temperatureMax,
                Min_Humidity: humidityMin,
                Max_Humidity: humidityMax
            })
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
</body>
</html>